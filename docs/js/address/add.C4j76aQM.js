import{b as h,a1 as _,I as g,r as w,f as y,u as r,h as k,i as A,U as n,ah as c,ag as b,ap as C,o as v,aq as D}from"../.pnpm/.pnpm.BXQlrSzc.js";import{e as R,a as T,d as x}from"./address.D_IOV7Uq.js";import"../request/request.bIsPAW7v.js";const L=h({name:"AddressAdd",__name:"add",setup(S){const s=k(),d=A(),i=_(()=>{var e;return(e=s.params)!=null&&e.id?{name:g.Random.cname(),tel:15177777777,areaCode:"120101",city:"天津市",county:"和平区",province:"天津市",addressDetail:"23132",country:""}:{}}),l=w([]);async function u(){var a,o,t;const e=n({message:(a=s.params)!=null&&a.id?"修改中...":"保存中...",duration:0});try{const f=(o=s.params)!=null&&o.id?R:T,{code:p}=await f();p===200&&(c({message:(t=s.params)!=null&&t.id?"修改成功!":"保存成功!",forbidClick:!0}),setTimeout(()=>{d.back()},500))}finally{e.close()}}function m(){b({title:"系统通知",message:"是否删除此收货地址?"}).then(async()=>{const e=n({message:"删除中...",duration:0});try{const{code:a}=await x();a===200&&(c({message:"删除成功!",forbidClick:!0}),setTimeout(()=>{d.back()},500))}finally{e.close()}}).catch(()=>{})}return(e,a)=>{var t;const o=C;return v(),y(o,{"area-list":r(D),"show-delete":!!((t=r(s).params)!=null&&t.id),"address-info":r(i),"show-set-default":"","show-search-result":"","search-result":r(l),"area-columns-placeholder":["请选择","请选择","请选择"],onSave:u,onDelete:m},null,8,["area-list","show-delete","address-info","search-result"])}}});export{L as default};
