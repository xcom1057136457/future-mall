import{b as G,a4 as q,o as l,f as P,w as d,n as e,a5 as Z,a6 as Q,Y as ee,O as U,t as _,z as a,q as B,k as r,m as I,p as A,F as h,a7 as te,a8 as ue,r as j,u as n,v as S,i as _e,h as pe,U as ve,a9 as me,X as xe,$ as fe,aa as be,ab as he,y as W,ac as ge,_ as ke,a0 as ye,ad as we,ae as $e}from"../.pnpm/.pnpm.BXQlrSzc.js";import{_ as Ce}from"../index.vue_vue_type_script_setup_true_lang/index.vue_vue_type_script_setup_true_lang.BUCDrlOs.js";import{a as Ve}from"../home/home.DmU4bV9I.js";import"../request/request.bIsPAW7v.js";const je={"p-5":""},Ie=e("div",{text:"base center black/80","mb-8":"","font-semibold":""}," 服务说明 ",-1),Se=e("div",{text:"sm black/80","mb-2":"","font-semibold":""}," 七天无理由退货 ",-1),Ue=e("div",{text:"sm black/50","mb-5":""}," 满足相应条件（未使用）时，消费者可申请7天无理由退货。 ",-1),Be=e("div",{text:"sm black/80","mb-2":"","font-semibold":""}," 晚发即赔 ",-1),Te=e("div",{text:"sm black/50","mb-20":""}," 若发货超时或物流异常，将为你补贴至少3元无门槛优惠券（特殊商品、大促活动及不可抗力因素除外）。 ",-1),Pe=G({name:"ServicePop",__name:"index",props:{visible:{type:Boolean,default:!1},visibleModifiers:{}},emits:["update:visible"],setup(g){const x=q(g,"visible");return(p,s)=>{const k=Z;return l(),P(k,{show:x.value,"onUpdate:show":s[1]||(s[1]=c=>x.value=c),position:"bottom",round:"",closeable:""},{default:d(()=>[e("div",je,[Ie,Se,Ue,Be,Te,e("div",{text:"white sm center","h-40px":"","rounded-full":"","bg-red":"","leading-40px":"",onClick:s[0]||(s[0]=c=>x.value=!1)}," 确认 ")])]),_:1},8,["show"])}}}),ze={"mb-200px":"","p-3":"","space-y-5":""},De={flex:"","gap-x-2":""},Me={"h-55px":"","w-55px":"","object-cover":"",alt:""},Ne={flex:"~ col","justify-between":""},Re={"text-red":""},qe=e("span",null,"￥",-1),Ae={text:"2xl "},Ge={"space-x-2":""},Le=e("div",{"mb-2":"",text:"sm black/80","font-semibold":""}," 颜色（3） ",-1),Oe={flex:"","items-center":"","gap-x-3":""},Ee=["onClick"],Fe=e("div",{"mb-2":"",text:"sm black/80","font-semibold":""}," 容量（3） ",-1),Xe={flex:"","items-center":"","gap-x-3":""},Ye=["onClick"],He={flex:"","items-center":"","justify-between":""},Je=e("div",{"space-x-3":""},[e("span",{text:"sm"},"购买数量"),e("span",{text:"xs black/50"},"库存10件")],-1),Ke=G({name:"SkuPop",__name:"index",props:Q({productInfo:{default:()=>({})}},{visible:{type:Boolean,default:!1},visibleModifiers:{},modelValue:{},modelModifiers:{}}),emits:Q(["addToCart","buy"],["update:visible","update:modelValue"]),setup(g,{emit:x}){const p=g,s=x,k=q(g,"visible"),c=q(g,"modelValue");function y(){s("addToCart")}function z(){s("buy")}return(v,m)=>{const f=te,w=ue,D=Z,M=ee("lazy");return l(),P(D,{show:k.value,"onUpdate:show":m[1]||(m[1]=u=>k.value=u),position:"bottom",closeable:"",round:""},{default:d(()=>{var u,o,$,C;return[e("div",null,[e("div",ze,[e("div",De,[U(e("img",Me,null,512),[[M,(u=p.productInfo)==null?void 0:u.images[0]]]),e("div",Ne,[e("div",Re,[qe,e("span",Ae,_((o=p.productInfo)==null?void 0:o.price),1)]),e("div",Ge,[a(f,{type:"danger",plain:""},{default:d(()=>[B(" 返8400积分 ")]),_:1}),a(f,{type:"danger",plain:""},{default:d(()=>[B(" 包邮 ")]),_:1})])])]),e("div",null,[Le,e("div",Oe,[(l(!0),r(h,null,I(($=p.productInfo)==null?void 0:$.colors,i=>(l(),r("div",{key:i.value,p:"x3 y-1","rounded-full":"","bg-gray-100":"",text:"xs black/80",class:A({"bg-red !text-white":c.value.color===i.value}),onClick:N=>c.value.color=i.value},_(i.label),11,Ee))),128))])]),e("div",null,[Fe,e("div",Xe,[(l(!0),r(h,null,I((C=p.productInfo)==null?void 0:C.capacitys,i=>(l(),r("div",{key:i,p:"x3 y-1","rounded-full":"","bg-gray-100":"",text:"xs black/60",class:A({"bg-red !text-white":c.value.capacity===i}),onClick:N=>c.value.capacity=i},_(`${i} G`),11,Ye))),128))])]),e("div",He,[Je,a(w,{modelValue:c.value.num,"onUpdate:modelValue":m[0]||(m[0]=i=>c.value.num=i)},null,8,["modelValue"])])]),e("div",{flex:"",p:"b-4 x-4"},[e("div",{flex:"~ 1","h-40px":"","items-center":"","justify-center":"","bg-orange":"",text:"sm white",rounded:"lt-full lb-full",onClick:y}," 加入购物车 "),e("div",{"h-40px":"",flex:"~ 1","items-center":"","justify-center":"","bg-red":"",text:"sm white",rounded:"rt-full rb-full",onClick:z}," 立即购买 ")])])]}),_:1},8,["show"])}}}),Qe={"w-full":"","object-cover":"",alt:""},We={"p-2":"","space-y-3":""},Ze={"overflow-hidden":"","rounded-lg":"","bg-white":"","p-3":""},et={"mb-3":"","text-red":""},tt=e("span",{"text-base":""},"￥",-1),ot={"text-xl":""},st={text:"sm black/80","mb-4":"","font-semibold":""},nt={flex:"","items-center":"","justify-between":""},lt={p:"x-3 y-2",flex:"","items-center":"","gap-x-2":"",rounded:"","bg-gray-100":"",text:"black/80"},it=e("div",{"i-solar-dollar-linear":""},null,-1),at={"text-xs":""},dt={"text-red":""},rt={flex:"","items-center":"","gap-x-3":""},ct={text:"sm black/70"},ut={"h-30px":"","w-30px":"",flex:"","items-center":"","justify-center":"","rounded-full":"","bg-gray-100":""},_t={"overflow-hidden":"","rounded-lg":"","bg-white":""},pt=e("div",{flex:"","items-center":"","gap-x-5":""},[e("div",{"text-gray-400":""}," 已选 "),e("div",null,"银色 & 128G")],-1),vt=e("div",{flex:"","items-center":"","gap-x-5":""},[e("div",{"text-gray-400":""}," 优惠 "),e("div",null,"领取优惠券")],-1),mt=e("div",{flex:"","items-center":"","gap-x-5":""},[e("div",{"text-gray-400":""}," 服务 "),e("div",{flex:"","items-center":""},[e("span",null,"七天无理由退货"),e("span",{"mx-2":"","inline-block":"","h-3px":"","w-3px":"","rounded-full":"",bg:"black/20"}),e("span",null,"晚发即赔")])],-1),xt={"rounded-lg":"","bg-white":""},ft=e("div",{flex:"","items-center":"","justify-between":"",p:"x-3 t-3"},[e("div",{text:"sm black/80","font-semibold":""}," 用户评价 (9) "),e("div",{flex:"","items-center":"","gap-x-2":"",text:"sm black/50"},[e("span",null,"查看全部"),e("div",{"i-solar-alt-arrow-right-line-duotone":""})])],-1),bt={"px-3":""},ht={flex:"","items-center":"","justify-between":""},gt={flex:"","gap-x-2":""},kt={"h-40px":"","w-40px":"","rounded-full":"","object-cover":"",alt:""},yt={flex:"~ col","justify-center":"","gap-y-1":""},wt={text:"sm black/80"},$t={text:"sm black/50"},Ct={text:"sm black/80"},Vt={key:0,"space-x-2":""},jt=["onClick"],It={key:1,text:"xs black/50"},St={"rounded-lg":"","bg-white":"","p-2":""},Ut=["onClick"],Bt=e("div",{flex:"~ 1","items-center":"","gap-x-5":""},[e("div",{flex:"~ col","items-center":"",text:"black/60"},[e("div",{"i-solar-home-2-broken":"","mb-1":"","text-lg":""}),e("div",{"text-xs":""}," 首页 ")]),e("div",{flex:"~ col","items-center":"",text:"black/60"},[e("div",{"i-solar-star-line-duotone":"","mb-1":"","text-lg":""}),e("div",{"text-xs":""}," 收藏 ")])],-1),Tt={flex:""},Rt=G({name:"ProductDetail",__name:"detail",setup(g){const x=_e(),p=pe(),s=j({});async function k(){var o;const u=ve({message:"加载中...",duration:0,forbidClick:!0});try{const{code:$,data:C}=await Ve({id:(o=p.params)==null?void 0:o.id});$===200&&(s.value=C)}finally{u.close()}}k();function c(u,o){ge({images:u,startPosition:o})}const y=j(!1),z=[{name:"微信",icon:"wechat"},{name:"微博",icon:"weibo"},{name:"复制链接",icon:"link"},{name:"分享海报",icon:"poster"},{name:"二维码",icon:"qrcode"}],v=j(!1),m=j({num:1,color:"silvery",capacity:256}),f=j(!1),w=j(!1);function D(){me({message:"加入成功!"}),v.value=!1}function M(){var u;x.push({name:"OrderCreate",params:{id:(u=p.params)==null?void 0:u.id}})}return(u,o)=>{var L,O,E,F,X,Y,H,J,K;const $=ke,C=xe,i=ye,N=te,oe=fe,se=we,ne=$e,le=be,ie=he,ae=Ke,de=Ce,re=Pe,T=ee("lazy");return l(),r(h,null,[a(C,{class:"my-swipe",autoplay:3e3,"indicator-color":"#000"},{default:d(()=>[(l(!0),r(h,null,I(n(s).images,(t,V)=>(l(),P($,{key:V},{default:d(()=>[U(e("img",Qe,null,512),[[T,t]])]),_:2},1024))),128))]),_:1}),e("div",We,[e("div",Ze,[e("div",et,[tt,e("span",ot,_((L=n(s))!=null&&L.price?Number((O=n(s))==null?void 0:O.price).toLocaleString():""),1)]),e("div",st,_((E=n(s))==null?void 0:E.name),1),e("div",nt,[e("div",lt,[it,e("div",at,[B(" 购买可得 "),e("span",dt,_((F=n(s))==null?void 0:F.integral),1),B(" 积分 ")])]),e("div",rt,[e("div",ct," 销量："+_((X=n(s))==null?void 0:X.salesVolume),1),e("div",ut,[e("div",{"i-solar-square-share-line-broken":"",text:"black/70 sm",onClick:o[0]||(o[0]=t=>y.value=!0)})])])])]),e("div",_t,[a(oe,null,{default:d(()=>[a(i,{"is-link":"",onClick:o[1]||(o[1]=t=>v.value=!0)},{title:d(()=>[pt]),_:1}),a(i,{"is-link":"",onClick:o[2]||(o[2]=t=>f.value=!0)},{title:d(()=>[vt]),value:d(()=>[a(N,{round:"",color:"#f87171"},{default:d(()=>[B(" 去领取 ")]),_:1})]),_:1}),a(i,{"is-link":"",onClick:o[3]||(o[3]=t=>w.value=!0)},{title:d(()=>[mt]),_:1})]),_:1})]),e("div",xt,[ft,e("div",bt,[(Y=n(s))!=null&&Y.evaluates&&((H=n(s))!=null&&H.evaluates.length)?(l(!0),r(h,{key:0},I(((J=n(s))==null?void 0:J.evaluates)??[],(t,V)=>{var R;return l(),r("div",{key:V,"py-3":"",border:"0 b solid gray-100","space-y-2":"",class:A({"border-none":V===((R=n(s))==null?void 0:R.evaluates.length)-1})},[e("div",ht,[e("div",gt,[U(e("img",kt,null,512),[[T,t.avatar]]),e("div",yt,[e("div",wt,_(t.nickname),1),a(se,{modelValue:t.rate,"onUpdate:modelValue":b=>t.rate=b,"allow-half":"",readonly:"",size:12},null,8,["modelValue","onUpdate:modelValue"])])]),e("div",$t,_(t.time),1)]),e("div",Ct,_(t.comment),1),t.commentImages&&t.commentImages.length?(l(),r("div",Vt,[(l(!0),r(h,null,I(t.commentImages,(b,ce)=>U((l(),r("img",{key:b,"h-95px":"","w-95px":"","object-cover":"",onClick:Pt=>c(t.commentImages,ce)},null,8,jt)),[[T,b]])),128))])):W("",!0),t.tag?(l(),r("div",It,_(t.tag),1)):W("",!0)],2)}),128)):(l(),P(ne,{key:1,image:"search",description:"暂无数据"}))])]),e("div",St,[(l(!0),r(h,null,I(((K=n(s))==null?void 0:K.descriptionImages)||[],(t,V)=>U((l(),r("img",{key:t,"w-full":"","object-cover":"",alt:"",onClick:R=>{var b;return c((b=n(s))==null?void 0:b.descriptionImages,V)}},null,8,Ut)),[[T,t]])),128))])]),a(le,{placeholder:""},{button:d(()=>[e("div",Tt,[e("div",{text:"sm white","h-40px":"","w-110px":"",flex:"","items-center":"","justify-center":"",rounded:"lt-full lb-full","bg-orange":"",onClick:o[4]||(o[4]=t=>v.value=!0)}," 加入购物车 "),e("div",{text:"sm white","h-40px":"","w-110px":"",flex:"","items-center":"","justify-center":"","bg-red":"",rounded:"rt-full rb-full",onClick:o[5]||(o[5]=t=>v.value=!0)}," 立即购买 ")])]),default:d(()=>[Bt]),_:1}),a(ie,{show:n(y),"onUpdate:show":o[6]||(o[6]=t=>S(y)?y.value=t:null),title:"立即分享给好友",options:z},null,8,["show"]),a(ae,{modelValue:n(m),"onUpdate:modelValue":o[7]||(o[7]=t=>S(m)?m.value=t:null),visible:n(v),"onUpdate:visible":o[8]||(o[8]=t=>S(v)?v.value=t:null),"product-info":n(s),onAddToCart:D,onBuy:M},null,8,["modelValue","visible","product-info"]),a(de,{visible:n(f),"onUpdate:visible":o[9]||(o[9]=t=>S(f)?f.value=t:null)},null,8,["visible"]),a(re,{visible:n(w),"onUpdate:visible":o[10]||(o[10]=t=>S(w)?w.value=t:null)},null,8,["visible"])],64)}}});export{Rt as default};
