import{b as U,r as N,k as q,n as e,t as o,u as t,O as E,z as I,v as L,F as M,i as P,U as z,ag as Y,ah as $,a8 as A,Y as G,o as H}from"../.pnpm/.pnpm.BXQlrSzc.js";import{s as B}from"../request/request.bIsPAW7v.js";function J(){return B({url:"/order/detail",method:"get"})}function K(){return B({url:"/order/delete",method:"delete"})}const Q={"mb-64px":"","p-2":"","space-y-2":""},W=e("div",{"rounded-lg":"","bg-green-6":"","py-3":"","text-white":""},[e("div",{"mb-3":"",flex:"","items-center":"","justify-center":"","gap-x-2":""},[e("div",{"i-solar-wallet-money-bold-duotone":"","text-24px":""}),e("div",{"text-base":""}," 订单已支付 ")]),e("div",{text:"sm center white/80"}," 感谢您的支持 ")],-1),X={flex:"","items-center":"","gap-x-3":"","rounded-lg":"","bg-white":"","p-3":""},Z=e("div",{"i-solar-map-point-wave-bold-duotone":"","text-lg":""},null,-1),ee={text:"sm black/80","mb-1":""},te={"space-x-5":"",text:"sm black/80"},se={flex:"","items-end":"","justify-between":"","rounded-lg":"","bg-white":"","p-3":""},oe={flex:"","gap-x-2":""},ie={"h-90px":"","w-90px":"",border:"~ solid gray-100","rounded-lg":"",alt:""},de={flex:"~ col","justify-between":""},ne={text:"base black/80","font-semibold":""},ce={text:"xs black/60"},le={"text-red":""},ae=e("span",{"text-xs":""},"￥",-1),re={"text-lg":""},_e={"rounded-lg":"","bg-white":"","p-3":"","space-y-3":""},xe={flex:"","items-center":"","justify-between":""},me=e("div",{text:"sm black/80"}," 订单编号 ",-1),he={flex:"","items-center":"","gap-x-2":""},ue={text:"14px black/40"},ve=e("div",{text:"xs black/70",p:"x-3 y-1","rounded-full":"","bg-gray-100":""}," 复制 ",-1),be={flex:"","items-center":"","justify-between":""},pe=e("div",{text:"sm black/80"}," 下单时间 ",-1),fe={text:"14px black/40"},ye={flex:"","items-center":"","justify-between":""},ge=e("div",{text:"sm black/80"}," 取消时间 ",-1),ke={text:"14px black/40"},we={flex:"","items-center":"","justify-between":""},je=e("div",{text:"sm black/80"}," 支付方式 ",-1),De={text:"14px black/40"},Ce={flex:"","items-center":"","justify-between":""},Oe=e("div",{text:"sm black/80"}," 支付编号 ",-1),Te={text:"14px black/40"},Ve={"rounded-lg":"","bg-white":"","p-3":"","space-y-3":""},Ne={flex:"","items-center":"","justify-between":""},ze=e("div",{text:"sm black/80"}," 产品总计 ",-1),Be={text:"14px black/40"},Re={flex:"","items-center":"","justify-between":""},Se=e("div",{text:"sm black/80"}," 运费 ",-1),Fe={text:"14px black/40"},Ue={flex:"","items-center":"","justify-between":""},qe=e("div",{text:"sm black/80"}," 优惠 ",-1),Ee={text:"14px black/40"},Ie={flex:"","items-center":"","justify-between":""},Le=e("div",{text:"sm black/80"}," 需付款 ",-1),Me={text:"14px black/40"},Pe={p:"x-4 y-2",fixed:"","bottom-0":"","left-0":"","right-0":"",flex:"","items-center":"","justify-between":"","bg-white":""},Ye=e("div",{"i-solar-home-2-broken":"","mb-1":"","text-lg":""},null,-1),$e=e("div",{"text-xs":""}," 首页 ",-1),Ae=[Ye,$e],Ke=U({name:"OrderDetail",__name:"detail",setup(Ge){const l=P(),n=N(1),s=N({});async function R(){const d=z({message:"加载中...",forbidClick:!0,duration:0});try{const{code:i,data:c}=await J();i===200&&(s.value=c)}finally{d.close()}}R();async function S(){Y({title:"系统通知",message:"是否删除该订单?"}).then(async()=>{const d=z({message:"删除中...",forbidClick:!0,duration:0});try{const{code:i}=await K();i===200&&($({message:"删除成功!"}),setTimeout(()=>{l.replace("/")},300))}finally{d.close()}}).catch(()=>{})}return(d,i)=>{var a,r,_,x,m,h,u,v,b,p,f,y,g,k,w,j,D,C,O,T;const c=A,F=G("lazy");return H(),q(M,null,[e("div",Q,[W,e("div",X,[Z,e("div",null,[e("div",ee,o((a=t(s))==null?void 0:a.city),1),e("div",te,[e("span",null,o((r=t(s))==null?void 0:r.name),1),e("span",null,o((_=t(s))==null?void 0:_.phone),1)])])]),e("div",se,[e("div",oe,[E(e("img",ie,null,512),[[F,(m=(x=t(s))==null?void 0:x.commodity)==null?void 0:m.image]]),e("div",de,[e("div",ne,o((u=(h=t(s))==null?void 0:h.commodity)==null?void 0:u.name),1),e("div",ce,o((b=(v=t(s))==null?void 0:v.commodity)==null?void 0:b.parameter),1),e("div",le,[ae,e("span",re,o((f=(p=t(s))==null?void 0:p.commodity)==null?void 0:f.price),1)])])]),e("div",null,[I(c,{modelValue:t(n),"onUpdate:modelValue":i[0]||(i[0]=V=>L(n)?n.value=V:null),disabled:""},null,8,["modelValue"])])]),e("div",_e,[e("div",xe,[me,e("div",he,[e("span",ue,o((y=t(s))==null?void 0:y.orderNumber),1),ve])]),e("div",be,[pe,e("div",fe,o((g=t(s))==null?void 0:g.orderTime),1)]),e("div",ye,[ge,e("div",ke,o((k=t(s))==null?void 0:k.cancelTime),1)]),e("div",we,[je,e("div",De,o((w=t(s))==null?void 0:w.paymentMethod),1)]),e("div",Ce,[Oe,e("div",Te,o((j=t(s))==null?void 0:j.paymentNumber),1)])]),e("div",Ve,[e("div",Ne,[ze,e("div",Be," ￥"+o((D=t(s))==null?void 0:D.totalProducts),1)]),e("div",Re,[Se,e("div",Fe," ￥"+o((C=t(s))==null?void 0:C.freight),1)]),e("div",Ue,[qe,e("div",Ee," ￥"+o((O=t(s))==null?void 0:O.discount),1)]),e("div",Ie,[Le,e("div",Me," ￥"+o((T=t(s))==null?void 0:T.paymentRequired),1)])])]),e("div",Pe,[e("div",{flex:"~ col","items-center":"",text:"black/60",onClick:i[1]||(i[1]=V=>t(l).push("/"))},Ae),e("div",{text:"xs red",border:"~ solid red","rounded-full":"",p:"x-3 y-1",onClick:S}," 删除订单 ")])],64)}}});export{Ke as default};
