import{g}from"./home-D5tB612I.js";import{d as h,r as u,c as i,b as e,ao as _,u as r,F as b,C as f,e as k,i as y,D as C,o as n,w,E as c,G as p}from"./index-Dp0FA1M5.js";const D={"p-3":""},L={"mb-3":"",flex:"","items-center":"","gap-x-4":""},B={grid:"~ cols-2","gap-2":""},N=["onClick"],P={relative:"","overflow-hidden":"","rounded-lg":"","bg-white":""},z={"h-175px":"","w-full":"","object-cover":"",alt:""},R={p:"x-1 y-1"},S={truncate:"",text:"sm black/80",m:"b-1"},$={flex:"","items-center":"","gap-x-2":""},E={text:"base red","space-x-1":""},F=e("span",{"text-xs":""},"积分",-1),G={key:0,text:"black/40 xs","line-through":""},I=e("span",{"text-sm":""},"￥",-1),V={key:0,text:"xs white",p:"x-2 y-2px",absolute:"","left-0":"","top-0":"","rounded-br-lg":"","bg-red":""},q=h({name:"IntegralList",__name:"list",setup(j){const m=k(),d=u([]);async function v(){const l=y({message:"加载中...",forbidClick:!0,duration:0});try{const{code:s,data:o}=await g();s===200&&(d.value=o==null?void 0:o.popularRecommendations)}finally{l.close()}}v();const a=u(0);function x(l){m.push({name:"ProductDetail",params:{id:l}})}return(l,s)=>{const o=C("lazy");return n(),i("div",D,[e("div",null,[e("div",L,[e("div",{text:"sm black/80",class:_({"!text-red !text-base font-semibold":r(a)===0}),"transition-all":"",onClick:s[0]||(s[0]=t=>a.value=0)}," 全部 ",2),e("div",{text:"sm black/80",class:_({"!text-red !text-base font-semibold":r(a)===1}),"transition-all":"",onClick:s[1]||(s[1]=t=>a.value=1)}," 积分兑换 ",2)]),e("div",B,[(n(!0),i(b,null,f(r(d),t=>(n(),i("div",{key:t.id,onClick:A=>x(t.id)},[e("div",P,[w(e("img",z,null,512),[[o,t.image]]),e("div",R,[e("div",S,c(t.title),1),e("div",$,[e("div",E,[e("span",null,c(Number(t.price).toLocaleString()),1),F]),t.originalPrice?(n(),i("div",G,[I,e("span",null,c(Number(t.originalPrice).toLocaleString()),1)])):p("",!0)])]),t.isItAMembershipPrice===1?(n(),i("div",V," 会员价 ")):p("",!0)])],8,N))),128))])])])}}});export{q as default};
