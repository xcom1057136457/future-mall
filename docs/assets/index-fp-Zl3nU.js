import{aR as de,aw as G,X as ue,aS as Oe,r as C,aT as Ne,ar as He,aU as Le,aG as Ee,aV as fe,l as Z,d as D,M as ve,$ as he,O as I,ab as be,m as me,a1 as We,R as $,Q as ge,W as J,V as z,Y as N,ay as ye,az as Me,a as g,S as A,n as we,aa as H,z as p,a5 as j,J as Ze,p as ee,N as De,aW as Ve,aX as Fe,t as M,ai as oe,P as Q,aY as Ue,_ as Xe,aZ as ie,aA as Ye,a_ as Ke,K as je,a$ as qe,ah as Ge,aF as Je,a0 as Qe,a8 as pe,ao as et,b0 as tt,b1 as nt,b2 as at,aM as lt,w as ot,ak as it,x as st,q as se}from"./index-Dp0FA1M5.js";import{u as xe}from"./index-DWum-PmF.js";import{S as rt,a as ct}from"./index-CjaF3jIX.js";function dt(e,a,i){let l,r=0;const t=e.scrollLeft,s=i===0?1:Math.round(i*1e3/16);let c=t;function h(){de(l)}function m(){c+=(a-t)/s,e.scrollLeft=c,++r<s&&(l=G(m))}return m(),h}function ut(e,a,i,l){let r,t=ue(e);const s=t<a,c=i===0?1:Math.round(i*1e3/16),h=(a-t)/c;function m(){de(r)}function w(){t+=h,(s&&t>a||!s&&t<a)&&(t=a),Oe(e,t),s&&t<a||!s&&t>a?r=G(w):l&&(r=G(l))}return w(),m}function ft(){const e=C([]),a=[];return Ne(()=>{e.value=[]}),[e,l=>(a[l]||(a[l]=r=>{e.value[l]=r}),a[l])]}function Se(e,a){if(!He||!window.IntersectionObserver)return;const i=new IntersectionObserver(t=>{a(t[0].intersectionRatio>0)},{root:document.body}),l=()=>{e.value&&i.observe(e.value)},r=()=>{e.value&&i.unobserve(e.value)};Le(r),Ee(r),fe(l)}const[vt,ht]=Z("sticky"),bt={zIndex:A,position:we("top"),container:Object,offsetTop:H(0),offsetBottom:H(0)};var mt=D({name:vt,props:bt,emits:["scroll","change"],setup(e,{emit:a,slots:i}){const l=C(),r=ve(l),t=he({fixed:!1,width:0,height:0,transform:0}),s=C(!1),c=I(()=>be(e.position==="top"?e.offsetTop:e.offsetBottom)),h=I(()=>{if(s.value)return;const{fixed:f,height:T,width:u}=t;if(f)return{width:`${u}px`,height:`${T}px`}}),m=I(()=>{if(!t.fixed||s.value)return;const f=me(We(e.zIndex),{width:`${t.width}px`,height:`${t.height}px`,[e.position]:`${c.value}px`});return t.transform&&(f.transform=`translate3d(0, ${t.transform}px, 0)`),f}),w=f=>a("scroll",{scrollTop:f,isFixed:t.fixed}),k=()=>{if(!l.value||J(l))return;const{container:f,position:T}=e,u=N(l),S=ue(window);if(t.width=u.width,t.height=u.height,T==="top")if(f){const d=N(f),B=d.bottom-c.value-t.height;t.fixed=c.value>u.top&&d.bottom>0,t.transform=B<0?B:0}else t.fixed=c.value>u.top;else{const{clientHeight:d}=document.documentElement;if(f){const B=N(f),b=d-B.top-c.value-t.height;t.fixed=d-c.value<u.bottom&&d>B.top,t.transform=b<0?-b:0}else t.fixed=d-c.value<u.bottom}w(S)};return $(()=>t.fixed,f=>a("change",f)),ge("scroll",k,{target:r,passive:!0}),Se(l,k),$([ye,Me],()=>{!l.value||J(l)||!t.fixed||(s.value=!0,z(()=>{const f=N(l);t.width=f.width,t.height=f.height,s.value=!1}))}),()=>{var f;return g("div",{ref:l,style:h.value},[g("div",{class:ht({fixed:t.fixed&&!s.value}),style:m.value},[(f=i.default)==null?void 0:f.call(i)])])}}});const gt=p(mt),[yt,re]=Z("tabs");var wt=D({name:yt,props:{count:j(Number),inited:Boolean,animated:Boolean,duration:j(A),swipeable:Boolean,lazyRender:Boolean,currentIndex:j(Number)},emits:["change"],setup(e,{emit:a,slots:i}){const l=C(),r=c=>a("change",c),t=()=>{var c;const h=(c=i.default)==null?void 0:c.call(i);return e.animated||e.swipeable?g(rt,{ref:l,loop:!1,class:re("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:r},{default:()=>[h]}):h},s=c=>{const h=l.value;h&&h.state.active!==c&&h.swipeTo(c,{immediate:!e.inited})};return $(()=>e.currentIndex,s),Ze(()=>{s(e.currentIndex)}),ee({swipeRef:l}),()=>g("div",{class:re("content",{animated:e.animated||e.swipeable})},[t()])}});const[Te,K]=Z("tabs"),xt={type:we("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:H(0),duration:H(.3),animated:Boolean,ellipsis:M,swipeable:Boolean,scrollspy:Boolean,offsetTop:H(0),background:String,lazyRender:M,showHeader:M,lineWidth:A,lineHeight:A,beforeChange:Function,swipeThreshold:H(5),titleActiveColor:String,titleInactiveColor:String},Ce=Symbol(Te);var St=D({name:Te,props:xt,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:a,slots:i}){let l,r,t,s,c;const h=C(),m=C(),w=C(),k=C(),f=xe(),T=ve(h),[u,S]=ft(),{children:d,linkChildren:B}=De(Ce),b=he({inited:!1,position:"",lineStyle:{},currentIndex:-1}),L=I(()=>d.length>+e.swipeThreshold||!e.ellipsis||e.shrink),V=I(()=>({borderColor:e.color,background:e.background})),E=(n,o)=>{var v;return(v=n.name)!=null?v:o},F=I(()=>{const n=d[b.currentIndex];if(n)return E(n,b.currentIndex)}),O=I(()=>be(e.offsetTop)),te=I(()=>e.sticky?O.value+l:0),W=n=>{const o=m.value,v=u.value;if(!L.value||!o||!v||!v[b.currentIndex])return;const x=v[b.currentIndex].$el,y=x.offsetLeft-(o.offsetWidth-x.offsetWidth)/2;s&&s(),s=dt(o,y,n?0:+e.duration)},_=()=>{const n=b.inited;z(()=>{const o=u.value;if(!o||!o[b.currentIndex]||e.type!=="line"||J(h.value))return;const v=o[b.currentIndex].$el,{lineWidth:x,lineHeight:y}=e,R=v.offsetLeft+v.offsetWidth/2,P={width:oe(x),backgroundColor:e.color,transform:`translateX(${R}px) translateX(-50%)`};if(n&&(P.transitionDuration=`${e.duration}s`),Q(y)){const Y=oe(y);P.height=Y,P.borderRadius=Y}b.lineStyle=P})},Re=n=>{const o=n<b.currentIndex?-1:1;for(;n>=0&&n<d.length;){if(!d[n].disabled)return n;n+=o}},U=(n,o)=>{const v=Re(n);if(!Q(v))return;const x=d[v],y=E(x,v),R=b.currentIndex!==null;b.currentIndex!==v&&(b.currentIndex=v,o||W(),_()),y!==e.active&&(a("update:active",y),R&&a("change",y,x.title)),t&&!e.scrollspy&&Xe(Math.ceil(ie(h.value)-O.value))},X=(n,o)=>{const v=d.find((y,R)=>E(y,R)===n),x=v?d.indexOf(v):0;U(x,o)},ne=(n=!1)=>{if(e.scrollspy){const o=d[b.currentIndex].$el;if(o&&T.value){const v=ie(o,T.value)-te.value;r=!0,c&&c(),c=ut(T.value,v,n?0:+e.duration,()=>{r=!1})}}},Ie=(n,o,v)=>{const{title:x,disabled:y}=d[o],R=E(d[o],o);y||(Ye(e.beforeChange,{args:[R],done:()=>{U(o),ne()}}),Ke(n)),a("clickTab",{name:R,title:x,event:v,disabled:y})},ke=n=>{t=n.isFixed,a("scroll",n)},Be=n=>{z(()=>{X(n),ne(!0)})},$e=()=>{for(let n=0;n<d.length;n++){const{top:o}=N(d[n].$el);if(o>te.value)return n===0?0:n-1}return d.length-1},_e=()=>{if(e.scrollspy&&!r){const n=$e();U(n)}},Pe=()=>{if(e.type==="line"&&d.length)return g("div",{class:K("line"),style:b.lineStyle},null)},ae=()=>{var n,o,v;const{type:x,border:y,sticky:R}=e,P=[g("div",{ref:R?void 0:w,class:[K("wrap"),{[Ue]:x==="line"&&y}]},[g("div",{ref:m,role:"tablist",class:K("nav",[x,{shrink:e.shrink,complete:L.value}]),style:V.value,"aria-orientation":"horizontal"},[(n=i["nav-left"])==null?void 0:n.call(i),d.map(Y=>Y.renderTitle(Ie)),Pe(),(o=i["nav-right"])==null?void 0:o.call(i)])]),(v=i["nav-bottom"])==null?void 0:v.call(i)];return R?g("div",{ref:w},[P]):P},le=()=>{_(),z(()=>{var n,o;W(!0),(o=(n=k.value)==null?void 0:n.swipeRef.value)==null||o.resize()})};$(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],_),$(ye,le),$(()=>e.active,n=>{n!==F.value&&X(n)}),$(()=>d.length,()=>{b.inited&&(X(e.active),_(),z(()=>{W(!0)}))});const ze=()=>{X(e.active,!0),z(()=>{b.inited=!0,w.value&&(l=N(w.value).height),W(!0)})},Ae=(n,o)=>a("rendered",n,o);return ee({resize:le,scrollTo:Be}),Ve(_),Fe(_),fe(ze),Se(h,_),ge("scroll",_e,{target:T,passive:!0}),B({id:f,props:e,setLine:_,scrollable:L,onRendered:Ae,currentName:F,setTitleRefs:S,scrollIntoView:W}),()=>g("div",{ref:h,class:K([e.type])},[e.showHeader?e.sticky?g(gt,{container:h.value,offsetTop:O.value,onScroll:ke},{default:()=>[ae()]}):ae():null,g(wt,{ref:k,count:d.length,inited:b.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:b.currentIndex,onChange:U},{default:()=>{var n;return[(n=i.default)==null?void 0:n.call(i)]}})])}});const Tt=Symbol(),[Ct,ce]=Z("tab"),Rt=D({name:Ct,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:A,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:M},setup(e,{slots:a}){const i=I(()=>{const r={},{type:t,color:s,disabled:c,isActive:h,activeColor:m,inactiveColor:w}=e;s&&t==="card"&&(r.borderColor=s,c||(h?r.backgroundColor=s:r.color=s));const f=h?m:w;return f&&(r.color=f),r}),l=()=>{const r=g("span",{class:ce("text",{ellipsis:!e.scrollable})},[a.title?a.title():e.title]);return e.dot||Q(e.badge)&&e.badge!==""?g(je,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[r]}):r};return()=>g("div",{id:e.id,role:"tab",class:[ce([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:i.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[l()])}}),[It,q]=Z("tab"),kt=me({},qe,{dot:Boolean,name:A,badge:A,title:String,disabled:Boolean,titleClass:Ge,titleStyle:[String,Object],showZeroBadge:M});var Bt=D({name:It,props:kt,setup(e,{slots:a}){const i=xe(),l=C(!1),r=Je(),{parent:t,index:s}=Qe(Ce);if(!t)return;const c=()=>{var u;return(u=e.name)!=null?u:s.value},h=()=>{l.value=!0,t.props.lazyRender&&z(()=>{t.onRendered(c(),e.title)})},m=I(()=>{const u=c()===t.currentName.value;return u&&!l.value&&h(),u}),w=C(""),k=C("");pe(()=>{const{titleClass:u,titleStyle:S}=e;w.value=u?et(u):"",k.value=S&&typeof S!="string"?tt(nt(S)):S});const f=u=>g(Rt,st({key:i,id:`${t.id}-${s.value}`,ref:t.setTitleRefs(s.value),style:k.value,class:w.value,isActive:m.value,controls:i,scrollable:t.scrollable.value,activeColor:t.props.titleActiveColor,inactiveColor:t.props.titleInactiveColor,onClick:S=>u(r.proxy,s.value,S)},se(t.props,["type","color","shrink"]),se(e,["dot","badge","title","disabled","showZeroBadge"])),{title:a.title}),T=C(!m.value);return $(m,u=>{u?T.value=!1:at(()=>{T.value=!0})}),$(()=>e.title,()=>{t.setLine(),t.scrollIntoView()}),lt(Tt,m),ee({id:i,renderTitle:f}),()=>{var u;const S=`${t.id}-${s.value}`,{animated:d,swipeable:B,scrollspy:b,lazyRender:L}=t.props;if(!a.default&&!d)return;const V=b||m.value;if(d||B)return g(ct,{id:i,role:"tabpanel",class:q("panel-wrapper",{inactive:T.value}),tabindex:m.value?0:-1,"aria-hidden":!m.value,"aria-labelledby":S},{default:()=>{var O;return[g("div",{class:q("panel")},[(O=a.default)==null?void 0:O.call(a)])]}});const F=l.value||b||!L?(u=a.default)==null?void 0:u.call(a):null;return ot(g("div",{id:i,role:"tabpanel",class:q("panel"),tabindex:V?0:-1,"aria-labelledby":S},[F]),[[it,V]])}}});const zt=p(Bt),At=p(St);export{At as T,zt as a,ft as u};
