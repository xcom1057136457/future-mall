import{d as h,H as f,f as k,r as v,c as d,b as e,u as o,E as c,a as y,g as w,ao as _,F as C,C as D,e as $,i as I,D as j,o as l,k as L,w as N,G as b}from"./index-NBx_Pa6c.js";import{D as B}from"./index-tQ2BTn-G.js";import{g as P}from"./home-mrlryKVM.js";const R={"p-2":""},S={"mb-2":"","rounded-lg":"","bg-white":"","p-3":""},V={"mb-8":"",flex:"","items-center":"","justify-between":""},z={flex:"","items-center":"","gap-x-3":""},T=["src"],E={"space-y-1":""},F={text:"sm black/80"},G=e("span",null,"积分明细",-1),O=e("div",{"i-solar-alt-arrow-right-line-duotone":""},null,-1),A=[G,O],H=e("div",{"mb-5":""},[e("div",{text:"xs red","mb-2":""}," 可用积分 "),e("div",{bg:"#ffbc49","h-10px":"","rounded-full":""},[e("div",{style:{width:`${97.4/178.1*100}%`},relative:"","h-full":"","rounded-full":"","bg-red":""},[e("div",{top:"1/2","translate-y":"-1/2","translate-x":"1/2",absolute:"","right-0":"","box-border":"","h-20px":"","w-20px":"","rounded-full":"","bg-white":"","p-3px":""},[e("div",{"h-full":"","w-full":"","rounded-full":"","bg-red":""})]),e("div",{top:"[calc(-100%-25px)]","translate-x":"1/2",text:"xs white",p:"x-2 y-1",absolute:"","right-0":"",rounded:"","bg-red":""}," 973753 "),e("div",{border:"5px solid transparent t-red","translate-x":"1/2",absolute:"","right-0":"","h-0":"","w-0":"",top:"[calc(-100%-1px)]"})])])],-1),M={grid:"~ cols-3"},U=e("div",{"mb-1":"",flex:"","items-center":"","gap-x-2":""},[e("div",{"h-8px":"","w-8px":"","rounded-full":"","bg-red":""}),e("div",{text:"base black/80","font-semibold":""}," 97.4万 ")],-1),q=e("div",{text:"xs black/60"}," 可用积分 ",-1),J=[U,q],K=e("div",{"mb-1":"",flex:"","items-center":"","gap-x-2":""},[e("div",{"h-8px":"","w-8px":"","rounded-full":"","bg-yellow":""}),e("div",{text:"base black/80","font-semibold":""}," 80.7万 ")],-1),Q=e("div",{text:"xs black/60"}," 已用积分 ",-1),W=[K,Q],X=e("div",{"mb-1":"",flex:"","items-center":"","gap-x-2":""},[e("div",{"h-8px":"","w-8px":"","rounded-full":"","bg-green":""}),e("div",{text:"base black/80","font-semibold":""}," 178.1万 ")],-1),Y=e("div",{text:"xs black/60"}," 总积分 ",-1),Z=[X,Y],ee={grid:"~ cols-2","gap-x-2":""},te=e("div",{"i-solar-hamburger-menu-bold-duotone":"",text:"red 44px"},null,-1),se=e("div",null,[e("div",{text:"sm black/80","font-semibold":""}," 积分抽奖 "),e("div",{text:"xs black/60"}," 小积分抽大奖 ")],-1),oe=[te,se],ie=e("div",{"i-solar-hamburger-menu-bold-duotone":"",text:"yellow 44px"},null,-1),ne=e("div",null,[e("div",{text:"sm black/80","font-semibold":""}," 积分商城 "),e("div",{text:"xs black/60"}," 限时兑换好礼 ")],-1),de=[ie,ne],le={"mb-3":"",flex:"","items-center":"","gap-x-4":""},re={grid:"~ cols-2","gap-2":""},ae=["onClick"],ce={relative:"","overflow-hidden":"","rounded-lg":"","bg-white":""},ue={"h-175px":"","w-full":"","object-cover":"",alt:""},xe={p:"x-1 y-1"},ve={truncate:"",text:"sm black/80",m:"b-1"},_e={flex:"","items-center":"","gap-x-2":""},be={text:"base red","space-x-1":""},pe=e("span",{"text-xs":""},"积分",-1),me={key:0,text:"black/40 xs","line-through":""},ge=e("span",{"text-sm":""},"￥",-1),he={key:0,text:"xs white",p:"x-2 y-2px",absolute:"","left-0":"","top-0":"","rounded-br-lg":"","bg-red":""},De=h({name:"IntegralCenter",__name:"center",setup(fe){const{userInfo:u}=f(k()),i=$(),r=v(0),x=v([]);async function p(){const a=I({message:"加载中...",forbidClick:!0,duration:0});try{const{code:t,data:n}=await P();t===200&&(x.value=n==null?void 0:n.popularRecommendations)}finally{a.close()}}p();function m(a){i.push({name:"ProductDetail",params:{id:a}})}return(a,t)=>{const n=B,g=j("lazy");return l(),d("div",R,[e("div",S,[e("div",V,[e("div",z,[e("img",{src:o(u).avatar,"h-42px":"","w-42px":"","rounded-full":"","object-cover":"",alt:"avatar"},null,8,T),e("div",E,[e("div",F,c(o(u).nickname),1),e("div",{flex:"","items-center":"",text:"xs black/60",onClick:t[0]||(t[0]=s=>o(i).push({name:"IntegralDetail"}))},A)])]),e("div",{text:"xs black/80","rounded-full":"",border:"~ solid black",p:"x-3 y-1",onClick:t[1]||(t[1]=s=>o(i).push({name:"IntegralOrder"}))}," 我的兑换 ")]),H,e("div",M,[e("div",{flex:"~ col items-center justify-center",border:"0 r solid gray-100",onClick:t[2]||(t[2]=s=>o(i).push({name:"IntegralDetail"}))},J),e("div",{flex:"~ col items-center justify-center",border:"0 r solid gray-100",onClick:t[3]||(t[3]=s=>o(i).push({name:"IntegralOrder"}))},W),e("div",{flex:"~ col items-center justify-center",onClick:t[4]||(t[4]=s=>o(i).push({name:"IntegralDetail"}))},Z)])]),e("div",ee,[e("div",{flex:"","items-center":"","justify-center":"","gap-x-2":"","rounded-lg":"","bg-white":"","p-3":"",onClick:t[5]||(t[5]=s=>o(i).push({name:"IntegralLottery"}))},oe),e("div",{flex:"","items-center":"","justify-center":"","gap-x-2":"","rounded-lg":"","bg-white":"","p-3":"",onClick:t[6]||(t[6]=s=>o(i).push({name:"IntegralList"}))},de)]),y(n,{m:"!y-8"},{default:w(()=>[L(" 积分兑换 ")]),_:1}),e("div",null,[e("div",le,[e("div",{text:"sm black/80",class:_({"!text-red !text-base font-semibold":o(r)===0}),"transition-all":"",onClick:t[7]||(t[7]=s=>r.value=0)}," 全部 ",2),e("div",{text:"sm black/80",class:_({"!text-red !text-base font-semibold":o(r)===1}),"transition-all":"",onClick:t[8]||(t[8]=s=>r.value=1)}," 积分兑换 ",2)]),e("div",re,[(l(!0),d(C,null,D(o(x),s=>(l(),d("div",{key:s.id,onClick:ke=>m(s.id)},[e("div",ce,[N(e("img",ue,null,512),[[g,s.image]]),e("div",xe,[e("div",ve,c(s.title),1),e("div",_e,[e("div",be,[e("span",null,c(Number(s.price).toLocaleString()),1),pe]),s.originalPrice?(l(),d("div",me,[ge,e("span",null,c(Number(s.originalPrice).toLocaleString()),1)])):b("",!0)])]),s.isItAMembershipPrice===1?(l(),d("div",he," 会员价 ")):b("",!0)])],8,ae))),128))])])])}}});export{De as default};
