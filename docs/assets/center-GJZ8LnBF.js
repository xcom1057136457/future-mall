import{l as y,d as f,a as h,t as w,n as C,z as D,H as P,f as j,r as b,c as a,b as e,u as d,E as u,g as N,ao as p,F as B,C as $,e as I,i as S,D as z,o as r,k as L,w as R,G as m}from"./index-DgD8RGzb.js";import{g as V}from"./home-C4t6WpH7.js";const[T,E]=y("divider"),F={dashed:Boolean,hairline:w,vertical:Boolean,contentPosition:C("center")};var G=f({name:T,props:F,setup(s,{slots:o}){return()=>{var l;return h("div",{role:"separator",class:E({dashed:s.dashed,hairline:s.hairline,vertical:s.vertical,[`content-${s.contentPosition}`]:!!o.default&&!s.vertical})},[!s.vertical&&((l=o.default)==null?void 0:l.call(o))])}}});const A=D(G),H={"p-2":""},M={"mb-2":"","rounded-lg":"","bg-white":"","p-3":""},O={"mb-8":"",flex:"","items-center":"","justify-between":""},U={flex:"","items-center":"","gap-x-3":""},q=["src"],J={"space-y-1":""},K={text:"sm black/80"},Q=e("div",{flex:"","items-center":"",text:"xs black/60"},[e("span",null,"积分明细"),e("div",{"i-solar-alt-arrow-right-line-duotone":""})],-1),W=e("div",{"mb-5":""},[e("div",{text:"xs red","mb-2":""}," 可用积分 "),e("div",{bg:"#ffbc49","h-10px":"","rounded-full":""},[e("div",{style:{width:`${97.4/178.1*100}%`},relative:"","h-full":"","rounded-full":"","bg-red":""},[e("div",{top:"1/2","translate-y":"-1/2","translate-x":"1/2",absolute:"","right-0":"","box-border":"","h-20px":"","w-20px":"","rounded-full":"","bg-white":"","p-3px":""},[e("div",{"h-full":"","w-full":"","rounded-full":"","bg-red":""})]),e("div",{top:"[calc(-100%-25px)]","translate-x":"1/2",text:"xs white",p:"x-2 y-1",absolute:"","right-0":"",rounded:"","bg-red":""}," 973753 "),e("div",{border:"5px solid transparent t-red","translate-x":"1/2",absolute:"","right-0":"","h-0":"","w-0":"",top:"[calc(-100%-1px)]"})])])],-1),X=e("div",{grid:"~ cols-3"},[e("div",{flex:"~ col items-center justify-center",border:"0 r solid gray-100"},[e("div",{"mb-1":"",flex:"","items-center":"","gap-x-2":""},[e("div",{"h-8px":"","w-8px":"","rounded-full":"","bg-red":""}),e("div",{text:"base black/80","font-semibold":""}," 97.4万 ")]),e("div",{text:"xs black/60"}," 可用积分 ")]),e("div",{flex:"~ col items-center justify-center",border:"0 r solid gray-100"},[e("div",{"mb-1":"",flex:"","items-center":"","gap-x-2":""},[e("div",{"h-8px":"","w-8px":"","rounded-full":"","bg-yellow":""}),e("div",{text:"base black/80","font-semibold":""}," 80.7万 ")]),e("div",{text:"xs black/60"}," 已用积分 ")]),e("div",{flex:"~ col items-center justify-center"},[e("div",{"mb-1":"",flex:"","items-center":"","gap-x-2":""},[e("div",{"h-8px":"","w-8px":"","rounded-full":"","bg-green":""}),e("div",{text:"base black/80","font-semibold":""}," 178.1万 ")]),e("div",{text:"xs black/60"}," 总积分 ")])],-1),Y=e("div",{grid:"~ cols-2","gap-x-2":""},[e("div",{flex:"","items-center":"","justify-center":"","gap-x-2":"","rounded-lg":"","bg-white":"","p-3":""},[e("div",{"i-solar-hamburger-menu-bold-duotone":"",text:"red 44px"}),e("div",null,[e("div",{text:"sm black/80","font-semibold":""}," 积分抽奖 "),e("div",{text:"xs black/60"}," 小积分抽大奖 ")])]),e("div",{flex:"","items-center":"","justify-center":"","gap-x-2":"","rounded-lg":"","bg-white":"","p-3":""},[e("div",{"i-solar-hamburger-menu-bold-duotone":"",text:"yellow 44px"}),e("div",null,[e("div",{text:"sm black/80","font-semibold":""}," 积分商城 "),e("div",{text:"xs black/60"}," 限时兑换好礼 ")])])],-1),Z={"mb-3":"",flex:"","items-center":"","gap-x-4":""},ee={grid:"~ cols-2","gap-2":""},te=["onClick"],ie={relative:"","overflow-hidden":"","rounded-lg":"","bg-white":""},se={"h-175px":"","w-full":"","object-cover":"",alt:""},oe={p:"x-1 y-1"},de={truncate:"",text:"sm black/80",m:"b-1"},le={flex:"","items-center":"","gap-x-2":""},ne={text:"base red","space-x-1":""},ae=e("span",{"text-xs":""},"积分",-1),re={key:0,text:"black/40 xs","line-through":""},ce=e("span",{"text-sm":""},"￥",-1),xe={key:0,text:"xs white",p:"x-2 y-2px",absolute:"","left-0":"","top-0":"","rounded-br-lg":"","bg-red":""},pe=f({name:"IntegralCenter",__name:"center",setup(s){const{userInfo:o}=P(j()),l=I(),c=b(0),v=b([]);async function g(){const x=S({message:"加载中...",forbidClick:!0,duration:0});try{const{code:i,data:n}=await V();i===200&&(v.value=n==null?void 0:n.popularRecommendations)}finally{x.close()}}g();function _(x){l.push({name:"ProductDetail",params:{id:x}})}return(x,i)=>{const n=A,k=z("lazy");return r(),a("div",H,[e("div",M,[e("div",O,[e("div",U,[e("img",{src:d(o).avatar,"h-42px":"","w-42px":"","rounded-full":"","object-cover":"",alt:"avatar"},null,8,q),e("div",J,[e("div",K,u(d(o).nickname),1),Q])]),e("div",{text:"xs black/80","rounded-full":"",border:"~ solid black",p:"x-3 y-1",onClick:i[0]||(i[0]=t=>d(l).push({name:"IntegralOrder"}))}," 我的兑换 ")]),W,X]),Y,h(n,{m:"!y-8"},{default:N(()=>[L(" 积分兑换 ")]),_:1}),e("div",null,[e("div",Z,[e("div",{text:"sm black/80",class:p({"!text-red !text-base font-semibold":d(c)===0}),"transition-all":"",onClick:i[1]||(i[1]=t=>c.value=0)}," 全部 ",2),e("div",{text:"sm black/80",class:p({"!text-red !text-base font-semibold":d(c)===1}),"transition-all":"",onClick:i[2]||(i[2]=t=>c.value=1)}," 积分兑换 ",2)]),e("div",ee,[(r(!0),a(B,null,$(d(v),t=>(r(),a("div",{key:t.id,onClick:ue=>_(t.id)},[e("div",ie,[R(e("img",se,null,512),[[k,t.image]]),e("div",oe,[e("div",de,u(t.title),1),e("div",le,[e("div",ne,[e("span",null,u(Number(t.price).toLocaleString()),1),ae]),t.originalPrice?(r(),a("div",re,[ce,e("span",null,u(Number(t.originalPrice).toLocaleString()),1)])):m("",!0)])]),t.isItAMembershipPrice===1?(r(),a("div",xe," 会员价 ")):m("",!0)])],8,te))),128))])])])}}});export{pe as default};
