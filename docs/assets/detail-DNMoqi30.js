import{l as F,d as I,r as N,c as E,b as e,y as o,u as t,w as L,a as M,q as P,F as U,f as $,x as A,o as G}from"./index-NqS3evgO.js";import{S as H}from"./index-D9z7AWER.js";import{a as B,s as S,c as J}from"./request-BZVuECNf.js";import"./index-TXPf4dty.js";import"./index-Cp4cOlF2.js";import{s as K,a as Q}from"./index-CWjl79a9.js";import"./index-DF4KEBhs.js";import"./use-expose-PVMTY6tw.js";import"./use-scope-id-TRPw9BWN.js";F(K);function W(){return B({url:"/order/detail",method:"get"})}function X(){return B({url:"/order/delete",method:"delete"})}const Y={"mb-64px":"","p-2":"","space-y-2":""},Z=e("div",{"rounded-lg":"","bg-green-6":"","py-3":"","text-white":""},[e("div",{"mb-3":"",flex:"","items-center":"","justify-center":"","gap-x-2":""},[e("div",{"i-solar-wallet-money-bold-duotone":"","text-24px":""}),e("div",{"text-base":""}," 订单已支付 ")]),e("div",{text:"sm center white/80"}," 感谢您的支持 ")],-1),ee={flex:"","items-center":"","gap-x-3":"","rounded-lg":"","bg-white":"","p-3":""},te=e("div",{"i-solar-map-point-wave-bold-duotone":"","text-lg":""},null,-1),se={text:"sm black/80","mb-1":""},oe={"space-x-5":"",text:"sm black/80"},ie={flex:"","items-end":"","justify-between":"","rounded-lg":"","bg-white":"","p-3":""},de={flex:"","gap-x-2":""},ne={"h-90px":"","w-90px":"",border:"~ solid gray-100","rounded-lg":"",alt:""},ce={flex:"~ col","justify-between":""},le={text:"base black/80","font-semibold":""},ae={text:"xs black/60"},re={"text-red":""},_e=e("span",{"text-xs":""},"￥",-1),me={"text-lg":""},xe={"rounded-lg":"","bg-white":"","p-3":"","space-y-3":""},he={flex:"","items-center":"","justify-between":""},ue=e("div",{text:"sm black/80"}," 订单编号 ",-1),pe={flex:"","items-center":"","gap-x-2":""},ve={text:"14px black/40"},be=e("div",{text:"xs black/70",p:"x-3 y-1","rounded-full":"","bg-gray-100":""}," 复制 ",-1),fe={flex:"","items-center":"","justify-between":""},ye=e("div",{text:"sm black/80"}," 下单时间 ",-1),ge={text:"14px black/40"},ke={flex:"","items-center":"","justify-between":""},we=e("div",{text:"sm black/80"}," 取消时间 ",-1),je={text:"14px black/40"},De={flex:"","items-center":"","justify-between":""},Ce=e("div",{text:"sm black/80"}," 支付方式 ",-1),Oe={text:"14px black/40"},Te={flex:"","items-center":"","justify-between":""},Ve=e("div",{text:"sm black/80"}," 支付编号 ",-1),Ne={text:"14px black/40"},Se={"rounded-lg":"","bg-white":"","p-3":"","space-y-3":""},Be={flex:"","items-center":"","justify-between":""},Re=e("div",{text:"sm black/80"}," 产品总计 ",-1),qe={text:"14px black/40"},ze={flex:"","items-center":"","justify-between":""},Fe=e("div",{text:"sm black/80"}," 运费 ",-1),Ie={text:"14px black/40"},Ee={flex:"","items-center":"","justify-between":""},Le=e("div",{text:"sm black/80"}," 优惠 ",-1),Me={text:"14px black/40"},Pe={flex:"","items-center":"","justify-between":""},Ue=e("div",{text:"sm black/80"}," 需付款 ",-1),$e={text:"14px black/40"},Ae={p:"x-4 y-2",fixed:"","bottom-0":"","left-0":"","right-0":"",flex:"","items-center":"","justify-between":"","bg-white":""},Ge=e("div",{"i-solar-home-2-broken":"","mb-1":"","text-lg":""},null,-1),He=e("div",{"text-xs":""}," 首页 ",-1),Je=[Ge,He],it=I({name:"OrderDetail",__name:"detail",setup(Ke){const l=$(),n=N(1),s=N({});async function R(){const d=S({message:"加载中...",forbidClick:!0,duration:0});try{const{code:i,data:c}=await W();i===200&&(s.value=c)}finally{d.close()}}R();async function q(){Q({title:"系统通知",message:"是否删除该订单?"}).then(async()=>{const d=S({message:"删除中...",forbidClick:!0,duration:0});try{const{code:i}=await X();i===200&&(J({message:"删除成功!"}),setTimeout(()=>{l.replace("/")},300))}finally{d.close()}}).catch(()=>{})}return(d,i)=>{var a,r,_,m,x,h,u,p,v,b,f,y,g,k,w,j,D,C,O,T;const c=H,z=A("lazy");return G(),E(U,null,[e("div",Y,[Z,e("div",ee,[te,e("div",null,[e("div",se,o((a=t(s))==null?void 0:a.city),1),e("div",oe,[e("span",null,o((r=t(s))==null?void 0:r.name),1),e("span",null,o((_=t(s))==null?void 0:_.phone),1)])])]),e("div",ie,[e("div",de,[L(e("img",ne,null,512),[[z,(x=(m=t(s))==null?void 0:m.commodity)==null?void 0:x.image]]),e("div",ce,[e("div",le,o((u=(h=t(s))==null?void 0:h.commodity)==null?void 0:u.name),1),e("div",ae,o((v=(p=t(s))==null?void 0:p.commodity)==null?void 0:v.parameter),1),e("div",re,[_e,e("span",me,o((f=(b=t(s))==null?void 0:b.commodity)==null?void 0:f.price),1)])])]),e("div",null,[M(c,{modelValue:t(n),"onUpdate:modelValue":i[0]||(i[0]=V=>P(n)?n.value=V:null),disabled:""},null,8,["modelValue"])])]),e("div",xe,[e("div",he,[ue,e("div",pe,[e("span",ve,o((y=t(s))==null?void 0:y.orderNumber),1),be])]),e("div",fe,[ye,e("div",ge,o((g=t(s))==null?void 0:g.orderTime),1)]),e("div",ke,[we,e("div",je,o((k=t(s))==null?void 0:k.cancelTime),1)]),e("div",De,[Ce,e("div",Oe,o((w=t(s))==null?void 0:w.paymentMethod),1)]),e("div",Te,[Ve,e("div",Ne,o((j=t(s))==null?void 0:j.paymentNumber),1)])]),e("div",Se,[e("div",Be,[Re,e("div",qe," ￥"+o((D=t(s))==null?void 0:D.totalProducts),1)]),e("div",ze,[Fe,e("div",Ie," ￥"+o((C=t(s))==null?void 0:C.freight),1)]),e("div",Ee,[Le,e("div",Me," ￥"+o((O=t(s))==null?void 0:O.discount),1)]),e("div",Pe,[Ue,e("div",$e," ￥"+o((T=t(s))==null?void 0:T.paymentRequired),1)])])]),e("div",Ae,[e("div",{flex:"~ col","items-center":"",text:"black/60",onClick:i[1]||(i[1]=V=>t(l).push("/"))},Je),e("div",{text:"xs red",border:"~ solid red","rounded-full":"",p:"x-3 y-1",onClick:q}," 删除订单 ")])],64)}}});export{it as default};
