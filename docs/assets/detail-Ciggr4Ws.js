import{a3 as S,d as F,r as B,c as q,b as e,E as o,u as t,w as I,a as L,B as M,F as P,e as U,i as N,j as $,D as A,o as G}from"./index-NBx_Pa6c.js";import{S as H}from"./index-B5g9rokV.js";import"./index-DGiW7d4F.js";import"./index-29jdkEgN.js";import{s as J}from"./function-call-6BzfcGg0.js";function K(){return S({url:"/order/detail",method:"get"})}function Q(){return S({url:"/order/delete",method:"delete"})}const W={"mb-64px":"","p-2":"","space-y-2":""},X=e("div",{"rounded-lg":"","bg-green-6":"","py-3":"","text-white":""},[e("div",{"mb-3":"",flex:"","items-center":"","justify-center":"","gap-x-2":""},[e("div",{"i-solar-wallet-money-bold-duotone":"","text-24px":""}),e("div",{"text-base":""}," 订单已支付 ")]),e("div",{text:"sm center white/80"}," 感谢您的支持 ")],-1),Y={flex:"","items-center":"","gap-x-3":"","rounded-lg":"","bg-white":"","p-3":""},Z=e("div",{"i-solar-map-point-wave-bold-duotone":"","text-lg":""},null,-1),ee={text:"sm black/80","mb-1":""},te={"space-x-5":"",text:"sm black/80"},se={flex:"","items-end":"","justify-between":"","rounded-lg":"","bg-white":"","p-3":""},oe={flex:"","gap-x-2":""},ie={"h-90px":"","w-90px":"",border:"~ solid gray-100","rounded-lg":"",alt:""},de={flex:"~ col","justify-between":""},ne={text:"base black/80","font-semibold":""},ce={text:"xs black/60"},le={"text-red":""},ae=e("span",{"text-xs":""},"￥",-1),re={"text-lg":""},_e={"rounded-lg":"","bg-white":"","p-3":"","space-y-3":""},me={flex:"","items-center":"","justify-between":""},xe=e("div",{text:"sm black/80"}," 订单编号 ",-1),he={flex:"","items-center":"","gap-x-2":""},ue={text:"14px black/40"},pe=e("div",{text:"xs black/70",p:"x-3 y-1","rounded-full":"","bg-gray-100":""}," 复制 ",-1),ve={flex:"","items-center":"","justify-between":""},be=e("div",{text:"sm black/80"}," 下单时间 ",-1),fe={text:"14px black/40"},ye={flex:"","items-center":"","justify-between":""},ge=e("div",{text:"sm black/80"}," 取消时间 ",-1),ke={text:"14px black/40"},we={flex:"","items-center":"","justify-between":""},je=e("div",{text:"sm black/80"}," 支付方式 ",-1),De={text:"14px black/40"},Ce={flex:"","items-center":"","justify-between":""},Oe=e("div",{text:"sm black/80"}," 支付编号 ",-1),Te={text:"14px black/40"},Ve={"rounded-lg":"","bg-white":"","p-3":"","space-y-3":""},Be={flex:"","items-center":"","justify-between":""},Ne=e("div",{text:"sm black/80"}," 产品总计 ",-1),Se={text:"14px black/40"},Re={flex:"","items-center":"","justify-between":""},ze=e("div",{text:"sm black/80"}," 运费 ",-1),Ee={text:"14px black/40"},Fe={flex:"","items-center":"","justify-between":""},qe=e("div",{text:"sm black/80"}," 优惠 ",-1),Ie={text:"14px black/40"},Le={flex:"","items-center":"","justify-between":""},Me=e("div",{text:"sm black/80"}," 需付款 ",-1),Pe={text:"14px black/40"},Ue={p:"x-4 y-2",fixed:"","bottom-0":"","left-0":"","right-0":"",flex:"","items-center":"","justify-between":"","bg-white":""},$e=e("div",{"i-solar-home-2-broken":"","mb-1":"","text-lg":""},null,-1),Ae=e("div",{"text-xs":""}," 首页 ",-1),Ge=[$e,Ae],Ye=F({name:"OrderDetail",__name:"detail",setup(He){const l=U(),n=B(1),s=B({});async function R(){const d=N({message:"加载中...",forbidClick:!0,duration:0});try{const{code:i,data:c}=await K();i===200&&(s.value=c)}finally{d.close()}}R();async function z(){J({title:"系统通知",message:"是否删除该订单?"}).then(async()=>{const d=N({message:"删除中...",forbidClick:!0,duration:0});try{const{code:i}=await Q();i===200&&($({message:"删除成功!"}),setTimeout(()=>{l.replace("/")},300))}finally{d.close()}}).catch(()=>{})}return(d,i)=>{var a,r,_,m,x,h,u,p,v,b,f,y,g,k,w,j,D,C,O,T;const c=H,E=A("lazy");return G(),q(P,null,[e("div",W,[X,e("div",Y,[Z,e("div",null,[e("div",ee,o((a=t(s))==null?void 0:a.city),1),e("div",te,[e("span",null,o((r=t(s))==null?void 0:r.name),1),e("span",null,o((_=t(s))==null?void 0:_.phone),1)])])]),e("div",se,[e("div",oe,[I(e("img",ie,null,512),[[E,(x=(m=t(s))==null?void 0:m.commodity)==null?void 0:x.image]]),e("div",de,[e("div",ne,o((u=(h=t(s))==null?void 0:h.commodity)==null?void 0:u.name),1),e("div",ce,o((v=(p=t(s))==null?void 0:p.commodity)==null?void 0:v.parameter),1),e("div",le,[ae,e("span",re,o((f=(b=t(s))==null?void 0:b.commodity)==null?void 0:f.price),1)])])]),e("div",null,[L(c,{modelValue:t(n),"onUpdate:modelValue":i[0]||(i[0]=V=>M(n)?n.value=V:null),disabled:""},null,8,["modelValue"])])]),e("div",_e,[e("div",me,[xe,e("div",he,[e("span",ue,o((y=t(s))==null?void 0:y.orderNumber),1),pe])]),e("div",ve,[be,e("div",fe,o((g=t(s))==null?void 0:g.orderTime),1)]),e("div",ye,[ge,e("div",ke,o((k=t(s))==null?void 0:k.cancelTime),1)]),e("div",we,[je,e("div",De,o((w=t(s))==null?void 0:w.paymentMethod),1)]),e("div",Ce,[Oe,e("div",Te,o((j=t(s))==null?void 0:j.paymentNumber),1)])]),e("div",Ve,[e("div",Be,[Ne,e("div",Se," ￥"+o((D=t(s))==null?void 0:D.totalProducts),1)]),e("div",Re,[ze,e("div",Ee," ￥"+o((C=t(s))==null?void 0:C.freight),1)]),e("div",Fe,[qe,e("div",Ie," ￥"+o((O=t(s))==null?void 0:O.discount),1)]),e("div",Le,[Me,e("div",Pe," ￥"+o((T=t(s))==null?void 0:T.paymentRequired),1)])])]),e("div",Ue,[e("div",{flex:"~ col","items-center":"",text:"black/60",onClick:i[1]||(i[1]=V=>t(l).push("/"))},Ge),e("div",{text:"xs red",border:"~ solid red","rounded-full":"",p:"x-3 y-1",onClick:z}," 删除订单 ")])],64)}}});export{Ye as default};
